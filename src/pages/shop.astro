---
import CartDrawer from "@/components/CartDrawer";
import { Button } from "@/components/ui/button";
import ROOT from "@/layouts/Root.astro";
import PageHeader from "@/layouts/PageHeader.astro";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import WEBSITE, { type Country } from "@/lib/constants";
---

<ROOT title="Astroplate - Shop">
  <PageHeader title="Shop">
    <main class="flex flex-col items-center">
      <div class="flex flex-wrap max-w-3xl lg:max-w-4xl justify-center gap-4">
        {
          WEBSITE.countries.map((c: Country) => (
            <Card className="flex-1 sm:max-w-[66svw] sm:min-w-[256px] lg:max-w-[33svw]">
              <CardHeader>
                <CardTitle className="whitespace-nowrap">{c.name}</CardTitle>
                <CardDescription className="whitespace-nowrap">
                  {c.code}
                </CardDescription>
              </CardHeader>
              <CardContent>
                <p class="min-w-[156px]">{c.meals.length} Meals</p>
              </CardContent>
              <CardFooter className="justify-end">
                <Button variant={"outline"}>View Menu</Button>
              </CardFooter>
            </Card>
          ))
        }
      </div>
    </main>
  </PageHeader>
  <div class="fixed bottom-0 p-4 py-8 bg-primary/10 flex w-full justify-end">
    <CartDrawer client:load />
  </div>
</ROOT>
